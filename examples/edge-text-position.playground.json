{"files":{"custom-edge.js":{"content":"class CustomEdgeModel extends PolylineEdgeModel {\n  customTextPosition = true;\n  getTextPosition() {\n    const position = super.getTextPosition();\n    const currentPositionList = this.points.split(' ');\n    const pointsList = [];\n    currentPositionList && currentPositionList.forEach(item => {\n      const [x, y] = item.split(',');\n      pointsList.push({ x: Number(x), y: Number(y) });\n    });\n    if (currentPositionList.length > 1) {\n      let [ x1, y1 ] = currentPositionList[0].split(',');\n      let [ x2, y2 ] = currentPositionList[1].split(',');\n      let distence = 50;\n      x1 = Number(x1)\n      y1 = Number(y1)\n      x2 = Number(x2)\n      y2 = Number(y2)\n      if (x1 === x2) { // 垂直\n        if (y2 < y1) {\n          distence = -50;\n        }\n        position.y = y1 + distence;\n        position.x = x1;\n      } else {\n        if (x2 < x1) {\n          distence = -50;\n        }\n        position.x = x1 + distence;\n        position.y = y1 - 10;\n      }\n    }\n    return position;\n  }\n}\n\nclass CustomEdge extends PolylineEdge {\n\n}\n\nexport default {\n  type: 'custom-edge',\n  model: CustomEdgeModel,\n  view: CustomEdge\n}"},"index.html":{"content":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <link rel=\"stylesheet\" href=\"//unpkg.com/@logicflow/core/dist/style/index.css\" />\n  <style>\n    html, body {\n      height: 100%;\n      margin: 0;\n      padding: 0;\n    }\n    #container {\n      height: calc(100% - 20px);\n    }\n  </style>\n</head>\n<body>\n  <div id=\"container\"></div>\n  <script src=\"//unpkg.com/@logicflow/core/dist/logic-flow.js\"></script>\n  <script type=\"module\" src=\"./index.js\"></script>\n</body>\n</html>"},"index.js":{"content":"import customEdge from './custom-edge.js'\nconst lf = new LogicFlow({\n  container: document.querySelector('#container'),\n  grid: true,\n});\nlf.register(customEdge);\nlf.setDefaultEdgeType('custom-edge'); // 设置默认新增的连线为自定义连线\nlf.render({\n  nodes: [\n    {\n      id: '1',\n      type: 'rect',\n      x: 100,\n      y: 100\n    },\n    {\n      id: '2',\n      type: 'rect',\n      x: 600,\n      y: 150\n    }\n  ],\n  edges: [\n    {\n      id: '1-2',\n      type: 'custom-edge',\n      sourceNodeId: '1',\n      targetNodeId: '2',\n      text: '我是开头'\n    }\n  ]\n});"}}}